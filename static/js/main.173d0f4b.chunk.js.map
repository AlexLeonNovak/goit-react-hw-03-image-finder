{"version":3,"sources":["components/Modal/Modal.module.css","components/Loader/Loader.module.css","libs/pnotify.js","services/pixabay-api.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/LoadMore/LoadMore.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","defaults","styling","icons","axios","baseURL","interceptors","request","use","params","fetchImages","searchQuery","page","pageSize","per_page","q","get","then","response","data","hits","modalRoot","document","getElementById","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","Modal__backdrop","onClick","Modal__content","children","Component","Searchbar","state","handleInputChange","setState","value","handleSubmit","preventDefault","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","id","alt","src","ImageGallery","items","onItemClick","map","webformatURL","tags","defaultProps","Loader","Preloader","LoadMore","onLoadMore","App","images","showModal","largeImgUrl","isLoading","showLargeImage","imageData","find","image","largeImageURL","toggleModal","setSearchQuery","getImages","length","Error","prevState","catch","error","notice","title","text","message","finally","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","isShowModal","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.173d0f4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__backdrop\":\"Modal_Modal__backdrop__1GdnR\",\"Modal__content\":\"Modal_Modal__content__1pq2n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Loader_Preloader__QV6pc\",\"Loader\":\"Loader_Loader__3e9AC\",\"spin\":\"Loader_spin__3OSuF\"};","import { defaults, notice } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/Material.css';\nimport 'material-design-icon-fonts/iconfont/material-icons.css';\n\ndefaults.styling = 'material';\ndefaults.icons = 'material';\n\nexport { notice };\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\naxios.interceptors.request.use(request => {\n\trequest.params['key'] = '21036025-0af45920d07b4b5893c60df1e';\n\treturn request;\n});\n\nexport const fetchImages = ({\n\tsearchQuery = '',\n\tpage = 1,\n\tpageSize = 10,\n} = {}) => {\n\tconst params = {\n\t\tpage: page,\n\t\tper_page: pageSize,\n\t\tq: searchQuery,\n\t};\n\treturn axios.get('', { params }).then(response => response.data.hits);\n};\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.Modal__backdrop} onClick={this.handleBackdropClick}>\r\n                <div className={styles.Modal__content}>{this.props.children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n","import {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport class Searchbar extends Component {\r\n\r\n    state = {\r\n        searchQuery: ''\r\n    }\r\n\r\n    handleInputChange = ({target}) => {\r\n        this.setState({searchQuery: target.value})\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.searchQuery);\r\n    };\r\n\r\n    render() {\r\n        const { searchQuery } = this.state;\r\n\r\n        return (\r\n            <header className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                        <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className=\"SearchForm-input\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleInputChange}\r\n                        value={searchQuery}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n}\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const ImageGalleryItem = ({id, alt, src, onClick}) => {\r\n    return (\r\n        <li className=\"ImageGalleryItem\" onClick={() => onClick(id)}>\r\n            <img src={src} alt={alt} className=\"ImageGalleryItem-image\" />\r\n        </li>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    src: PropTypes.string.isRequired,\r\n    // largeImageURL: PropTypes.string.isRequired,\r\n    alt: PropTypes.string.isRequired\r\n}\r\n","import {ImageGalleryItem} from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const ImageGallery = ({items, onItemClick}) => {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n            {items.map(({ id, webformatURL, tags }) =>\r\n                <ImageGalleryItem\r\n                    key={id}\r\n                    id={id}\r\n                    src={webformatURL}\r\n                    onClick={onItemClick}\r\n                    alt={tags}\r\n                />\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.defaultProps = {\r\n    items: [],\r\n    onItemClick: () => {}\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    items: PropTypes.array,\r\n    onItemClick: PropTypes.func\r\n}\r\n","import styles from './Loader.module.css';\r\n\r\nexport const Loader = () => (\r\n    <div className={styles.Preloader}>\r\n        <div className={styles.Loader} />\r\n    </div>\r\n)\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const LoadMore = ({onLoadMore}) => (\r\n    <div className=\"Button__wrap\">\r\n        <button type=\"button\" className=\"Button\" onClick={onLoadMore}>Load more</button>\r\n    </div>\r\n)\r\n\r\nLoadMore.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired\r\n}\r\n","import './App.css';\nimport { Component } from 'react';\nimport { notice } from './libs/pnotify';\n\nimport { fetchImages } from './services/pixabay-api';\n\nimport { Modal } from './components/Modal';\nimport { Searchbar } from './components/Searchbar';\nimport { ImageGallery } from './components/ImageGallery';\nimport { Loader } from './components/Loader';\nimport { LoadMore } from './components/LoadMore';\n\nclass App extends Component {\n\tstate = {\n\t\timages: [],\n\t\tshowModal: false,\n\t\tlargeImgUrl: '',\n\t\tsearchQuery: '',\n\t\tpage: 1,\n\t\tisLoading: true,\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.getImages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevState.searchQuery !== this.state.searchQuery) {\n\t\t\tthis.getImages();\n\t\t}\n\t\tif (prevState.page !== this.state.page) {\n\t\t\twindow.scrollTo({\n\t\t\t\ttop: document.documentElement.scrollHeight,\n\t\t\t\tbehavior: 'smooth',\n\t\t\t});\n\t\t}\n\t}\n\n\tshowLargeImage = id => {\n\t\tconst { images } = this.state;\n\t\tconst imageData = images.find(image => image.id === id);\n\t\tthis.setState({ largeImgUrl: imageData.largeImageURL });\n\t\tthis.toggleModal();\n\t};\n\n\ttoggleModal = () => {\n\t\tthis.setState(({ showModal }) => ({\n\t\t\tshowModal: !showModal,\n\t\t}));\n\t};\n\n\tsetSearchQuery = searchQuery => {\n\t\tthis.setState({ searchQuery, images: [], page: 1 });\n\t};\n\n\tgetImages = () => {\n\t\tconst { searchQuery, page } = this.state;\n\t\tthis.setState({ isLoading: true });\n\t\tfetchImages({ searchQuery, page })\n\t\t\t.then(images => {\n\t\t\t\tif (!images.length) {\n\t\t\t\t\tthrow Error('There are no data to show');\n\t\t\t\t}\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\timages: [...prevState.images, ...images],\n\t\t\t\t\tpage: prevState.page + 1,\n\t\t\t\t}));\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tnotice({\n\t\t\t\t\ttitle: 'Something wrong...',\n\t\t\t\t\ttext: error.message,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.setState({ isLoading: false, showModal: false });\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { showModal, images, largeImgUrl, isLoading } = this.state;\n\t\tconst isShowModal = showModal && largeImgUrl;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Searchbar onSubmit={this.setSearchQuery} />\n\n\t\t\t\t{images.length && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ImageGallery\n\t\t\t\t\t\t\titems={images}\n\t\t\t\t\t\t\tonItemClick={this.showLargeImage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<LoadMore onLoadMore={this.getImages} />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t{isLoading && <Loader />}\n\n\t\t\t\t{isShowModal && (\n\t\t\t\t\t<Modal onClose={this.toggleModal}>\n\t\t\t\t\t\t<img src={largeImgUrl} alt={largeImgUrl} />\n\t\t\t\t\t</Modal>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}